import{W as L,E as S,r as h,G as n,O as o,h as l,J as a,K as x,F as k,L as f,X as C,Y as T,Z as u,M as I,N as e,Q as s,P as w,H as N,T as b}from"./index.3c58ed64.js";const U=e("h1",{class:"text-center"},"\u5F85\u8FA6\u4E8B\u9805",-1),R=e("thead",null,[e("tr",null,[e("th",null,"\u540D\u7A31"),e("th",null,"\u64CD\u4F5C")])],-1),D={key:0},G=e("td",{class:"text-center",colspan:"2"},"\u6C92\u6709\u4E8B\u9805",-1),H=[G],J={key:1},M={key:0},O={key:1},P=e("h1",{class:"text-center"},"\u5DF2\u5B8C\u6210\u4E8B\u9805",-1),Q=e("thead",null,[e("tr",null,[e("th",null,"\u540D\u7A31"),e("th",null,"\u64CD\u4F5C")])],-1),W={key:0},X=e("td",{class:"text-center",colspan:"2"},"\u6C92\u6709\u4E8B\u9805",-1),Y=[X],z={__name:"ListView",setup(Z){const p=L(),{addItem:$,editItem:B,delItem:q,confirmEditItem:E,undoEditItem:F,delFinishedItem:K}=p,{items:m,finishedItems:v}=S(p),_=h(""),i=h(null),y=h([]),c={required(d){return!!d||"\u6B04\u4F4D\u5FC5\u586B"},length(d){return d.length>=3||"\u5FC5\u9808\u4E09\u500B\u5B57\u4EE5\u4E0A"}},V=async()=>{const d=await i.value.validate();console.log(d),!(d.length>0)&&($(_.value),i.value.$el.querySelector("input").blur(),i.value.reset())};return(d,g)=>(n(),o(k,null,[l(x,{id:"list"},{default:a(()=>[l(f,{cols:"12"},{default:a(()=>[l(C,{ref_key:"input",ref:i,modelValue:_.value,"onUpdate:modelValue":g[0]||(g[0]=t=>_.value=t),label:"\u65B0\u589E\u4E8B\u9805",rules:[c.required,c.length],onKeydown:T(V,["enter"])},{append:a(()=>[l(u,{icon:"mdi-plus",variant:"text",onClick:V})]),_:1},8,["modelValue","rules","onKeydown"])]),_:1})]),_:1}),l(x,null,{default:a(()=>[l(f,{class:"v-col-lg-6 v-col-12"},{default:a(()=>[U,l(I,null,{default:a(()=>[R,e("tbody",null,[s(m).length===0?(n(),o("tr",D,H)):(n(!0),o(k,{key:1},w(s(m),t=>(n(),o("tr",{key:t.id,ref_for:!0,ref_key:"editInputs",ref:y},[e("td",null,[t.edit?(n(),N(C,{key:0,modelValue:t.model,"onUpdate:modelValue":r=>t.model=r,autofocus:"",rules:[c.required,c.length]},null,8,["modelValue","onUpdate:modelValue","rules"])):(n(),o("span",J,b(t.name),1))]),e("td",null,[t.edit?(n(),o("span",M,[l(u,{icon:"mdi-check",variant:"text",color:"green",onClick:r=>s(E)(t.id)},null,8,["onClick"]),l(u,{icon:"mdi-undo",variant:"text",color:"red",onClick:r=>s(F)(t.id)},null,8,["onClick"])])):(n(),o("span",O,[l(u,{icon:"mdi-pencil",variant:"text",color:"green",onClick:r=>s(B)(t.id)},null,8,["onClick"]),l(u,{icon:"mdi-delete",variant:"text",color:"red",onClick:r=>s(q)(t.id)},null,8,["onClick"])]))])]))),128))])]),_:1})]),_:1}),l(f,{class:"v-col-lg-6 v-col-12"},{default:a(()=>[P,l(I,null,{default:a(()=>[Q,e("tbody",null,[s(v).length===0?(n(),o("tr",W,Y)):(n(!0),o(k,{key:1},w(s(v),t=>(n(),o("tr",{key:t.id,ref_for:!0,ref_key:"editInputs",ref:y},[e("td",null,b(t.name),1),e("td",null,[l(u,{icon:"mdi-delete",variant:"text",color:"red",onClick:r=>s(K)(t.id)},null,8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1})],64))}};export{z as default};
